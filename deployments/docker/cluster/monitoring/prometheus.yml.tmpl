# Autogenerated from prometheus.yml.tmpl via monitoring/render_prometheus_config.py
# DO NOT EDIT DIRECTLY

global:
  scrape_interval: ${PROMETHEUS_SCRAPE_INTERVAL}
  evaluation_interval: ${PROMETHEUS_EVALUATION_INTERVAL}
  external_labels:
    cluster: ${CLUSTER_NAME}
    environment: ${PROMETHEUS_ENVIRONMENT}

rule_files:
  - /etc/prometheus/base/alerts.yml
  - /etc/prometheus/base/recording_rules.yml

scrape_configs:
  - job_name: ${CLUSTER_NAME}_engram
    metrics_path: /metrics/prometheus
    static_configs:
      - targets:
          - engram-node1:7432
          - engram-node2:7432
          - engram-node3:7432
        labels:
          role: memory_node

  - job_name: ${CLUSTER_NAME}_prometheus
    metrics_path: /metrics
    static_configs:
      - targets:
          - prometheus:9090
        labels:
          role: monitoring
